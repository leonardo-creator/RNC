<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/signature_pad/1.5.3/signature_pad.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <script src="script.js"></script>

    <title>RNC</title>

</head>

<body>

    <div>
        <div class="div-com-bordas" id="content">

            <!-- PRIMEIRO BLOCO-->
            <div class="div-cabeçalho container" style="justify-content: space-between;">
                <div>
                    <pc class="nao-conformidade">REGISTRO DE NÃO CONFORMIDADE | RNC</p>
                        <p class="numero-ocorrencia">N°: ________</p>
                </div>


                <div style="text-align: right;">
                    <img class="logo-brk" src='marca.png'>
                </div>

            </div>

            <!-- SEGUNDO BLOCO-->
            <div class="container identificação">

                <div style="width: 3%; height: max-content; padding-top:40%;">
                    <p class="textoidentificação">IDENTIFICAÇÃO</p>
                </div>


                <div class="quadro-identificações container">

                    <!-- statuts atividade -->
                    <div class="larg-desc texto-descrição">STATUS<br> ATIVIDADE:</div>
                    <div class="larg-atv texto-atividade">
                        <form class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="liberada" name="status" value="liberada">
                                <label class="checkbox-group" for="liberada">Liberada</label>
                            </div>

                            <div class="radio-item">
                                <input type="radio" id="liberadaRestricao" name="status" value="liberadaRestricao">
                                <label class="checkbox-group" for="liberadaRestricao">Liberada c/ Restrição</label>
                            </div>

                            <div class="radio-item">
                                <input type="radio" id="suspensaParalisada" name="status" value="suspensaParalisada">
                                <label class="checkbox-group" for="suspensaParalisada">Suspensa/Paralisada</label>
                            </div>
                        </form>
                    </div>

                    <!-- contratante -->
                    <div class="larg-desc texto-descrição">CONTRATANTE:</div>
                    <div class="larg-atv texto-atividade">BRK SANEATINS</div>



                    <div class="toda-largura container">
                        <!-- contratada -->
                        <div class="custom-select texto-descrição" style="width: 70%;">
                            <label class="texto-descrição" for="empresa">CONTRATADA:</label>
                            <select id="empresa">
                                <option value="" disabled selected>Selecione uma empresa</option>
                                <option value="1">Empresa 1</option>
                                <option value="2">Empresa 2</option>
                                <option value="3">Empresa 3</option>
                            </select>
                        </div>

                        <!-- contrato -->
                        <div class="texto-descrição" style="width: 30%; ">CONTRATO:</div>

                    </div>



                    <!-- escopo -->
                    <div class="larg-atv texto-descrição input-container toda-largura">
                        <label for="escopo">ESCOPO:</label>
                        <input id="escopo" type="text">
                    </div>

                    <!-- local nc -->
                    <div class="larg-atv texto-descrição input-container toda-largura" style="padding-top: 10px;">
                        <label for="localnc">LOCAL DA NC :</label>
                        <input id="localnc" type="text">
                        <p id="errorMsg"></p>
                    </div>

                    <!-- resp frente -->
                    <div class="larg-atv texto-descrição input-container toda-largura">
                        <label for="respfrente">RESP. FRENTE:</label>
                        <input id="respfrente" type="text">
                    </div>

                    <!-- TIPO -->
                    <div class="larg-desc-checkbox texto-descrição" S><br>TIPO:</div>
                    <div class="larg-atv-checkbox texto-atividade">
                        <form class="checkbox-group-around">
                            <label class="labels" for="saa1">
                                <input class="checkbox-item " type="checkbox" id="saa1" name="tipo" value="saa">
                                SAA
                            </label>
                            <label class="labels" for="saa2">
                                <input class="checkbox-item" type="checkbox" id="saa2" name="tipo" value="ses">
                                SES
                            </label>
                        </form>
                    </div>

                    <!-- natureza -->
                    <div class="container toda-largura">
                        <div class="larg-desc-checkbox texto-descrição" style="align-items: center;">NATUREZA:</div>

                        <div class="larg-atv-checkbox texto-atividade ">
                            <form class="checkbox-group">
                                <label class="labels" for="execucao">
                                    <input class="checkbox-item" type="checkbox" id="execucao" name="natureza"
                                        value="execucao">
                                    EXECUÇÃO
                                </label>
                                <label class="labels" for="qualidade">
                                    <input class="checkbox-item" type="checkbox" id="qualidade" name="natureza"
                                        value="qualidade">
                                    QUALIDADE
                                </label>
                                <label class="labels" for="seguranca">
                                    <input class="checkbox-item" type="checkbox" id="seguranca" name="natureza"
                                        value="seguranca">
                                    SEGURANÇA
                                </label>
                                <label class="labels" for="projeto">
                                    <input class="checkbox-item" type="checkbox" id="projeto" name="natureza"
                                        value="projeto">
                                    PROJETO
                                </label>
                                <label class="labels" for="outros">
                                    <input class="checkbox-item" type="checkbox" id="outros" name="natureza"
                                        value="outros">
                                    OUTROS
                                </label>
                                <label class="labels" for="material">
                                    <input class="checkbox-item" type="checkbox" id="material" name="natureza"
                                        value="material">
                                    MATERIAL
                                </label>
                                <label class="labels" for="interferencia">
                                    <input class="checkbox-item" type="checkbox" id="interferencia" name="natureza"
                                        value="interferencia">
                                    INTERFERENCIA
                                </label>
                                <label class="labels" for="mAmbiente">
                                    <input class="checkbox-item" type="checkbox" id="mAmbiente" name="natureza"
                                        value="mAmbiente">
                                    M. ANBIENTE
                                </label>
                                <label class="labels" for="organizComportamento">
                                    <input class="checkbox-item" type="checkbox" id="organizComportamento"
                                        name="natureza" value="organizComportamento">
                                    ORGANIZ/COMPORTAMENTO
                                </label>
                            </form>
                        </div>
                    </div>

                    <!--OBRA -->
                    <div class="container toda-largura">
                        <div class="larg-desc-checkbox texto-descrição" style="align-items: center;">OBRA:</div>

                        <div class="larg-atv-checkbox texto-atividade">
                            <form class="checkbox-group">
                                <label class="labels" for="rce">
                                    <input class="checkbox-item" type="checkbox" id="rce" name="obra" value="rce">
                                    RCE
                                </label>
                                <label class="labels" for="rda">
                                    <input class="checkbox-item" type="checkbox" id="rda" name="obra" value="rda">
                                    RDA
                                </label>
                                <label class="labels" for="ligacoes">
                                    <input class="checkbox-item" type="checkbox" id="ligacoes" name="obra"
                                        value="ligacoes">
                                    LIGAÇÕES
                                </label>
                                <label class="labels" for="adutora">
                                    <input class="checkbox-item" type="checkbox" id="adutora" name="obra"
                                        value="adutora">
                                    ADUTORA
                                </label>
                                <label class="labels" for="outro">
                                    <input class="checkbox-item" type="checkbox" id="outro" name="obra" value="outro">
                                    OUTROS
                                </label>
                                <label class="labels" for="coletor">
                                    <input class="checkbox-item" type="checkbox" id="coletor" name="obra"
                                        value="coletor">
                                    COLETOR
                                </label>
                                <label class="labels" for="lr">
                                    <input class="checkbox-item" type="checkbox" id="lr" name="obra" value="lr">
                                    LR
                                </label>
                                <label class="labels" for="eee">
                                    <input class="checkbox-item" type="checkbox" id="eee" name="obra" value="eee">
                                    EEE
                                </label>
                                <label class="labels" for="reservatorio">
                                    <input class="checkbox-item" type="checkbox" id="reservatorio" name="obra"
                                        value="reservatorio">
                                    RESERVATÓRIO
                                </label>
                                <label class="labels" for="ete">
                                    <input class="checkbox-item" type="checkbox" id="ete" name="obra" value="ete">
                                    ETE
                                </label>
                                <label class="labels" for="eta">
                                    <input class="checkbox-item" type="checkbox" id="eta" name="obra" value="eta">
                                    ETA
                                </label>
                                <label class="labels" for="barragem">
                                    <input class="checkbox-item" type="checkbox" id="barragem" name="obra"
                                        value="barragem">
                                    BARRAGEM
                                </label>
                                <label class="labels" for="pavimentacao">
                                    <input class="checkbox-item" type="checkbox" id="pavimentacao" name="obra"
                                        value="pavimentacao">
                                    PAVIMENTAÇÃO
                                </label>
                            </form>
                        </div>
                    </div>

                    <!-- GRAU -->
                    <div class="larg-desc-checkbox texto-descrição" S><br>GRAU:</div>
                    <div class="larg-atv-checkbox texto-atividade" style="padding-bottom: 10px;">
                        <form class="checkbox-group-around">
                            <label class="labels" for="leve">
                                <input class="checkbox-item " type="radio" id="leve" name="grau" value="leve">
                                LEVE
                            </label>
                            <label class="labels" for="media">
                                <input class="checkbox-item" type="radio" id="media" name="grau" value="media">
                                MÉDIA
                            </label>
                            <label class="labels" for="grave">
                                <input class="checkbox-item" type="radio" id="grave" name="grau" value="grave">
                                GRAVE
                            </label>
                            <label class="labels" for="gravissima">
                                <input class="checkbox-item" type="radio" id="gravissima" name="grau"
                                    value="gravissima">
                                GRAVÍSSIMA
                            </label>
                        </form>
                    </div>



                </div>

            </div>

            <!-- terceiro BLOCO-->
            <div class="container observações">

                <!--titulo em pe-->
                <div style="width: 3%; height: max-content; padding-top:25%;">
                    <p class="textoidentificação">OBSERVAÇÕES/IMAGENS</p>
                </div>

                <div class="quadro-identificações container">

                    <!--titulo deitado-->
                    <div style="background-color: blue; color: white; height: fit-content; justify-content: center; display: flex; align-items: center;"
                        class="texto-descrição toda-largura">
                        <p>OBSERVAÇÕES/IMAGENS</p>
                    </div>

                    <!--problema identificado-->
                    <div class="toda-largura texto-descrição">
                        <p>PROBLEMA IDENTIFICADO</p>
                    </div>

                    <!--texto de area-->
                    <div class="toda-largura">
                        <textarea style="font-size: 1.2vw; width: 98%" id="myTextarea" rows="6"></textarea>
                    </div>

                    <!--imagem descrição-->
                    <div class="toda-largura container" style="justify-content: space-around; padding-bottom: 10px;">
                        <div style="width: 48%;">
                            <form>
                                <label for="fileInput1">
                                    <img id="img1" class="imagem" src="sem fig.jpg" alt="Upload de arquivo"
                                        style="cursor:pointer;" />
                                </label>
                                <input type="file" id="fileInput1" style="display:none;" accept="image/*"
                                    onchange="loadImage1(event)">

                                <div class="input-container" style="justify-content: center; display: flex;">
                                    <label for="figura1?:" class="texto-descrição"> Figura 1:</label>
                                    <input id="figura1" type="text">
                                </div>
                            </form>
                        </div>

                        <div style="width: 48%;">
                            <form>
                                <label for="fileInput2">
                                    <img id="img2" class="imagem" src="sem fig.jpg" alt="Upload de arquivo"
                                        style="cursor:pointer;" />
                                </label>
                                <input type="file" id="fileInput2" style="display:none;" accept="image/*"
                                    onchange="loadImage2(event)">

                                <div class="input-container" style="justify-content: center; display: flex;">
                                    <label for="figura2?:" class="texto-descrição"> Figura 2:</label>
                                    <input id="figura2" type="text">
                                </div>

                            </form>
                        </div>
                    </div>
                </div>

            </div>

            <!-- QUARTOO BLOCO-->
            <div class="container observações">

                <!--titulo em pe-->
                <div style="width: 3%; height: max-content; padding-top:10%;">
                    <p class="textoidentificação">AÇÕES</p>
                </div>

                <div class="quadro-identificações container">

                    <!--titulo deitado-->
                    <div style="background-color: blue; color: white; height: fit-content; justify-content: center; display: flex; align-items: center;"
                        class="texto-descrição toda-largura">
                        <p>AÇÕES CORRETIVAS</p>
                    </div>

                    <!--problema identificado-->
                    <div class="toda-largura texto-descrição">
                        <p>DISPOSIÇÕES GERAIS</p>
                    </div>

                    <!--ação corretiva-->
                    <div class="toda-largura texto-atividade">
                        <form>
                            <div class="radio-group">
                                <label for="corrigir">
                                    <input type="radio" id="corrigir" name="acoes" value="corrigir">
                                    CORRIGIR
                                </label>
                                <label for="reprovarSuspender">
                                    <input type="radio" id="reprovarSuspender" name="acoes" value="reprovarSuspender">
                                    REPROVAR/SUSPENDER
                                </label>
                                <label for="autorizarConcessao">
                                    <input type="radio" id="autorizarConcessao" name="acoes" value="autorizarConcessao">
                                    AUTORIZAR SOB CONCESSÃO
                                </label>
                                <label for="informar">
                                    <input type="radio" id="informar" name="acoes" value="informar">
                                    INFORMAR
                                </label>
                            </div>
                        </form>
                    </div>

                    <!--tabela-->
                    <div class="toda-largura texto-atividade" style="padding-top: 10px;">
                        <table style="width: 100%; border: 1px solid black;">
                            <tr>
                                <th style="width: 60%;">AÇÕES A EXECUTAR/CONCESSÕES OBTIDAS</th>
                                <th style="width: 20%;">Responsável</th>
                                <th style="width: 20%;">Prazo</th>
                            </tr>
                            <tr>
                                <td><input type="text" style="width: 100%;"></td>
                                <td><input type="text" style="width: 100%;"></td>
                                <td><input type="date" style="width: 97%;" class="date-input"></td>
                            </tr>
                            <tr>
                                <td><input type="text" style="width: 100%;"></td>
                                <td><input type="text" style="width: 100%;"></td>
                                <td><input type="date" style="width: 97%;" class="date-input"></td>
                            </tr>
                            <tr>
                                <td><input type="text" style="width: 100%;"></td>
                                <td><input type="text" style="width: 100%;"></td>
                                <td><input type="date" style="width: 97%;" class="date-input"></td>
                            </tr>
                        </table>
                    </div>

                </div>

            </div>

            <!-- QUINTO BLOCO-->
            <div class="container observações">

                <!-- Estrutura de Assinaturas -->
                <div class="quadro-assinaturas container">
                    <div class="texto-descrição" style="width:49%; border: 1px solid black;padding-bottom: 10px;">
                        <label for="dataAbertura">DATA DE ABERTURA:</label>
                        <input type="date" id="dataAbertura" name="dataAbertura" class="date-input">

                        <!--CONTRATANTE-->
                        <div style="height: 20rem; width: 100%;" class="toda-largura"
                            onclick="openSignatureModal('signature-canvas1', 'signature-pad')">
                            <canvas id="signature-pad1"
                                style="width: 100%; height: 100%; border: 1px solid #ccc;"></canvas>
                        </div>
                        <div class="texto-descrição container" style="justify-content: center; width: 100%;">
                            <div style="width: 100%; display: flex; justify-content: center;">
                                <label>____________________________________________________</label>
                            </div>
                            <div><label>CONTRATANTE</label></div>
                        </div>

                        <!--CONTRATADA-->
                        <div style="height: 20rem; width: 100%;" class="toda-largura"
                            onclick="openSignatureModal('signature-canvas2', 'signature-pad1')">
                            <canvas id="signature-pad2"
                                style="width: 100%; height: 100%; border: 1px solid #ccc;"></canvas>
                        </div>
                        <div class="texto-descrição container" style="justify-content: center; width: 100%;">
                            <div style="width: 100%; display: flex; justify-content: center;">
                                <label>____________________________________________________</label>
                            </div>
                            <div><label>CONTRATADA</label></div>
                        </div>
                    </div>

                    <div class="texto-descrição" style="width:49%; border: 1px solid black;padding-bottom: 10px;">
                        <label for="dataFechamento">DATA DE FECHAMENTO:</label>
                        <input type="date" id="dataFechamento" name="dataFechamento" class="date-input">

                        <!--CONTRATANTE-->
                        <div style="height: 20rem; width: 100%;" class="toda-largura"
                            onclick="openSignatureModal('signature-canvas3', 'signature-pad2')">
                            <canvas id="signature-pad3"
                                style="width: 100%; height: 100%; border: 1px solid #ccc;"></canvas>
                        </div>
                        <div class="texto-descrição container" style="justify-content: center; width: 100%;">
                            <div style="width: 100%; display: flex; justify-content: center;">
                                <label>____________________________________________________</label>
                            </div>
                            <div><label>CONTRATANTE</label></div>

                            <!--CONTRATADA-->
                            <div style="height: 20rem; width: 100%;" class="toda-largura"
                                onclick="openSignatureModal('signature-canvas4', 'signature-pad3')">
                                <canvas id="signature-pad4"
                                    style="width: 100%; height: 100%; border: 1px solid #ccc;"></canvas>
                            </div>
                            <div class="texto-descrição container" style="justify-content: center; width: 100%;">
                                <div style="width: 100%; display: flex; justify-content: center;">
                                    <label>____________________________________________________</label>
                                </div>
                                <div><label>CONTRATADA</label></div>
                            </div>
                        </div>
                    </div>

                    <!-- Modal 1 para Assinatura -->
                    <div id="signatureModal1"
                        style="display:none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.8); z-index: 9999; justify-content: center; align-items: center;">
                        <div
                            style="background: white; padding: 20px; position: relative; max-width: 100%; max-height: 100%; overflow: auto;">
                            <canvas id="signature-canvas1"
                                style="width: 100%; height: 400px; border: 1px solid #ccc;"></canvas>
                            <button style="position: absolute; top: 10px; right: 10px;"
                                onclick="closeSignatureModal('signatureModal1')">Fechar</button>
                            <button style="position: absolute; bottom: 10px; left: 10px;"
                                onclick="clearSignature('signature-canvas1')">Limpar</button>
                            <button style="position: absolute; bottom: 10px; right: 10px;"
                                onclick="saveSignature('signature-canvas1', 'signature-pad1')">Salvar</button>
                        </div>
                    </div>

                    <!-- Modal 2 para Assinatura -->
                    <div id="signatureModal2"
                        style="display:none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.8); z-index: 9999; justify-content: center; align-items: center;">
                        <div
                            style="background: white; padding: 20px; position: relative; max-width: 100%; max-height: 100%; overflow: auto;">
                            <canvas id="signature-canvas2"
                                style="width: 100%; height: 400px; border: 1px solid #ccc;"></canvas>
                            <button style="position: absolute; top: 10px; right: 10px;"
                                onclick="closeSignatureModal('signatureModal2')">Fechar</button>
                            <button style="position: absolute; bottom: 10px; left: 10px;"
                                onclick="clearSignature('signature-canvas2')">Limpar</button>
                            <button style="position: absolute; bottom: 10px; right: 10px;"
                                onclick="saveSignature('signature-canvas2', 'signature-pad2')">Salvar</button>
                        </div>
                    </div>

                    <!-- Modal 3 para Assinatura -->
                    <div id="signatureModal3"
                        style="display:none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.8); z-index: 9999; justify-content: center; align-items: center;">
                        <div
                            style="background: white; padding: 20px; position: relative; max-width: 100%; max-height: 100%; overflow: auto;">
                            <canvas id="signature-canvas3"
                                style="width: 100%; height: 400px; border: 1px solid #ccc;"></canvas>
                            <button style="position: absolute; top: 10px; right: 10px;"
                                onclick="closeSignatureModal('signatureModal3')">Fechar</button>
                            <button style="position: absolute; bottom: 10px; left: 10px;"
                                onclick="clearSignature('signature-canvas3')">Limpar</button>
                            <button style="position: absolute; bottom: 10px; right: 10px;"
                                onclick="saveSignature('signature-canvas3', 'signature-pad3')">Salvar</button>
                        </div>
                    </div>

                    <!-- Modal 4 para Assinatura -->
                    <div id="signatureModal4"
                        style="display:none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.8); z-index: 9999; justify-content: center; align-items: center;">
                        <div
                            style="background: white; padding: 20px; position: relative; max-width: 100%; max-height: 100%; overflow: auto;">
                            <canvas id="signature-canvas4"
                                style="width: 100%; height: 400px; border: 1px solid #ccc;"></canvas>
                            <button style="position: absolute; top: 10px; right: 10px;"
                                onclick="closeSignatureModal('signatureModal4')">Fechar</button>
                            <button style="position: absolute; bottom: 10px; left: 10px;"
                                onclick="clearSignature('signature-canvas4')">Limpar</button>
                            <button style="position: absolute; bottom: 10px; right: 10px;"
                                onclick="saveSignature('signature-canvas4', 'signature-pad4')">Salvar</button>
                        </div>
                    </div>



                </div>



            </div>

        </div>
    </div>
 

    <button class="toda-largura" id="downloadPDF">Baixar como PDF</button>

</body>

</html>